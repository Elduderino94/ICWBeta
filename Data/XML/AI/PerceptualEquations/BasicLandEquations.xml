<?xml version="1.0" ?>

<Equations>

	<Allowed_As_Defender_Land>
		(Game.IsCampaignGame == 0)
		+
		(Game.IsCampaignGame == 1)	
		*
		(
			(1 - Variable_Self.IsDefender)
			+
			(Variable_Self.IsDefender) * (Variable_Self.BaseLevel == 0)
			+
			(Variable_Self.IsDefender) * (Variable_Self.BaseLevel > 0)
			*
			(
				(
					(Variable_Self.FriendlyForceUnnormalized {Parameter_Category = GameObjectCategoryType[Infantry | Vehicle | Air]} 
					>= (Variable_Enemy.LandedForceUnnormalized))
				)
				> 0
			)
		)
	</Allowed_As_Defender_Land>

	
	<Should_Destroy_Land_Unit>
		Function_Allowed_As_Defender_Land.Evaluate
		*
		(
			4.0 * ((Variable_Target.Location.FriendlyForce - Variable_Target.Location.EnemyForce) > 0.0)
			+
			3.0 * (1.0 - Variable_Target.Location.EnemyForce)
			+
			3.0 * (200 > Variable_Target.DistanceToNearestEnemy)
			+
			2.0 * (1.0 - (Variable_Target.Shield > 0.66))
			+
			2.0 * (1.0 - Variable_Target.Health)
			+
			5.0 * (1.0 - (Variable_Target.Health > 0.8))
			+ 
			(1.0 - Variable_Target.ForceNBTD)
			+
			2.0 * (Variable_Target.ContainsHero)
			+
			1.0
		)
	</Should_Destroy_Land_Unit>

	
	<Should_Clear_Infantry>
		Function_Allowed_As_Defender_Land.Evaluate
		*
		10.0
		*
		Variable_Target.EnemyUnitConcentrationNBTD {Parameter_Category = GameObjectCategoryType[Infantry]} -
		Function_Should_Clear_Vehicles.Evaluate
	</Should_Clear_Infantry>

	
	<Should_Clear_Vehicles>
		Function_Allowed_As_Defender_Land.Evaluate
		*
		5.0
 		*
		Variable_Target.EnemyUnitConcentrationNBTD {Parameter_Category = GameObjectCategoryType[Vehicle]}
	</Should_Clear_Vehicles>

	
	<Should_Destroy_Structure>
		Function_Allowed_As_Defender_Land.Evaluate
		*
		(1 - Variable_Target.Owner.IsFaction {Parameter_Faction = "Neutral"})
		*
		(
			0.001
			+
			(2 * Variable_Target.Type.IsType {Parameter_Type = "Ground_Ion_Cannon",
															Parameter_Type = "Ground_Empire_Hypervelocity_Gun"})
			+
			(5.0 * Variable_Target.Type.IsType {Parameter_Type = "Empire_Anti_Infantry_Turret",
															Parameter_Type = "Rebel_Anti_Infantry_Turret",
															Parameter_Type = "Empire_Anti_Aircraft_Turret",
															Parameter_Type = "Pentastar_Anti_Aircraft_Turret",
															Parameter_Type = "Rebel_Anti_Aircraft_Turret",
															Parameter_Type = "Empire_Anti_Vehicle_Turret",
															Parameter_Type = "Pentastar_Anti_Vehicle_Turret",
															Parameter_Type = "Rebel_Anti_Vehicle_Turret",
															Parameter_Type = "Empire_Buildable_Bacta_Tank",
															Parameter_Type = "Rebel_Buildable_Bacta_Tank",
															Parameter_Type = "Underworld_Buildable_Bacta_Tank",
															Parameter_Type = "Pentastar_Buildable_Bacta_Tank",
															Parameter_Type = "Empire_Buildable_Repair_Facility",
															Parameter_Type = "Rebel_Buildable_Repair_Facility",
															Parameter_Type = "Underworld_Buildable_Repair_Facility",
															Parameter_Type = "Pentastar_Buildable_Repair_Facility"})
			+
			(10 * Variable_Target.Type.IsType { Parameter_Type = "E_Ground_Base_Shield",
												Parameter_Type = "R_Ground_Base_Shield",
												Parameter_Type = "U_Ground_Base_Shield",
												Parameter_Type = "P_Ground_Base_Shield"})
			+									
			(15 * Variable_Target.Type.IsType {Parameter_Type = "Power_Generator_E",
												Parameter_Type = "Power_Generator_R",
												Parameter_Type = "Power_Generator_P",
												Parameter_Type = "Power_Generator_U"})
			+
			(20 * Variable_Target.Type.IsType { Parameter_Type = "Empire_Mineral_Processor"
												,Parameter_Type = "Rebel_Mineral_Processor"
												,Parameter_Type = "Underworld_Mineral_Processor"
												,Parameter_Type = "Pentastar_Mineral_Processor"
												,Parameter_Type = "Skirmish_Ground_Mining_Facility_E"
												,Parameter_Type = "Skirmish_Ground_Mining_Facility_R"
												,Parameter_Type = "Skirmish_Ground_Mining_Facility_U" })
			+
			(15.0 * (1 - Variable_Target.Location.EnemyForce))
			+
			10 * (1 - Variable_Target.IsInsideEnemyShield)
		)
		*
		(1 - (Variable_Target.Type.IsType {	Parameter_Type = "E_Ground_Turbolaser_Tower",
											Parameter_Type = "R_Ground_Turbolaser_Tower",
											Parameter_Type = "P_Ground_Turbolaser_Tower",
											Parameter_Type = "U_Ground_Turbolaser_Tower"}))
		*
		(1.0 - Function_May_Lose_Land_Control_Game.Evaluate)
		*
		(1.0 - Variable_Target.IsContestable)
	</Should_Destroy_Structure>

	
	<Should_Destroy_Turbolaser>
		Function_Allowed_As_Defender_Land.Evaluate
		*
		(1 - Variable_Target.Location.EnemyForce)
		*
		(Variable_Target.Type.IsType {	Parameter_Type = "E_Ground_Turbolaser_Tower",
										Parameter_Type = "R_Ground_Turbolaser_Tower",
										Parameter_Type = "P_Ground_Turbolaser_Tower",
										Parameter_Type = "U_Ground_Turbolaser_Tower"})
		*
		50
		*
		(1.0 - Function_May_Lose_Land_Control_Game.Evaluate)
		*
		(Variable_Enemy.HasUnit{Parameter_Type = "Power_Generator_E",
									Parameter_Type = "Power_Generator_R",
	                                Parameter_Type = "Power_Generator_P",
	                                Parameter_Type = "Power_Generator_U"})
	</Should_Destroy_Turbolaser>
	

	<Want_To_Retreat_From_Land>
		(Game.Age > 45)
		*
		(
			(
				(1.0 - Variable_Self.IsDefender) 
				* 
				(
					Variable_Enemy.LandedForceUnnormalized{Parameter_Attenuator = 1.0} >= (2.0 * (Variable_Self.LandedForceUnnormalized{Parameter_Attenuator = 1.0} + Variable_Self.ReinforcementsUnnormalized))
				)
			)
			+
			(
				Variable_Self.IsDefender 
				* 
				(Variable_Enemy.LandedForceUnnormalized{Parameter_Attenuator = 1.0} >= (2.5 * Variable_Self.FriendlyForceUnnormalized{Parameter_Attenuator = 1.0})) 
				*
				(
					((Variable_Self.FriendlyForceUnnormalized - Variable_Self.FriendlyForceUnnormalized {Parameter_Category = GameObjectCategoryType[Structure]}) == 0)
					+
					Variable_Self.HasUnit {Parameter_Type = "Ground_Ion_Cannon"}
					+
					(Variable_Self.BaseLevel == 0)
				)
			)
			-
			Game.IsCampaignGame * (Script_EvaluateInGalacticContext.Evaluate{Parameter_Script_String = "GenericPlanetValue"} > 0.8)
			
		)
	</Want_To_Retreat_From_Land>


	<Allowed_To_Retreat_From_Land>
		Game.IsCampaignGame
		*
		Variable_Self.CanRetreat
		*
		(1.0 - Variable_Self.IsFaction {Parameter_Faction = "Hostile"})
	</Allowed_To_Retreat_From_Land>

	
	<Should_Retreat_From_Land>
		Function_Want_To_Retreat_From_Land.Evaluate
		*
		Function_Allowed_To_Retreat_From_Land.Evaluate
	</Should_Retreat_From_Land>

	
	<Game_Age>
		Game.Age
	</Game_Age>

	
	<Should_Bomb>
		(1 - Variable_Self.IsDifficulty{Parameter_Difficulty_Level_Type = DifficultyLevelType[Easy]})	*
		50.0 *
		Variable_Self.IsBombingRunAvailable *
		(Variable_Target.ForceUnnormalized {Parameter_Category = GameObjectCategoryType[AntiAir]} == 0.0) *
		(1.0 - (Variable_Target.Location.EnemyForceUnnormalized {Parameter_Category = GameObjectCategoryType[AntiAir]} > 500.0)) *
		(1.0 - (Variable_Self.EnemyForceUnnormalized {Parameter_Category = GameObjectCategoryType[AntiAir]} > 3000.0)) *
		Variable_Target.Location.EnemyUnitConcentration *
		Variable_Target.IsValidBombingTarget
		*
		(1.0 - Variable_Target.IsContestable)
	</Should_Bomb>
	
	
	<Need_Units_Landed>
		50
		*
		(1 - Function_Should_Burn_Units_Land.Evaluate)
		*
		(Variable_Self.ReinforcementsUnnormalized > 0)
		*
		Variable_Self.UnitSpaceAvailable
	</Need_Units_Landed>	

	
	<Is_Friendly_Start>
		Variable_Target.IsFriendlyStartLocation
	</Is_Friendly_Start>

	
	<Need_AntiVehicle_Turret>
		Variable_Target.Type.IsType {Parameter_Type = "Skirmish_Build_Pad"
										,Parameter_Type = "Rebel_Build_Pad" 
										,Parameter_Type = "Empire_Build_Pad"
										,Parameter_Type = "Pentastar_Build_Pad"
										,Parameter_Type = "Underworld_Build_Pad"
										,Parameter_Type = "Rebel_Build_Pad_Offensive"
										,Parameter_Type = "Empire_Build_Pad_Offensive"		
										,Parameter_Type = "Underworld_Build_Pad_Offensive" }
		*
		(1 - Variable_Target.HasBuiltObject)
		*
		Function_Is_Allowed_To_Build.Evaluate
		*
		20
		*
		(1 - Function_Is_Saving_For_Refineries_Land.Evaluate)
		*
		(
			(1 - Function_Skirmish_Upgrade_Tech.Evaluate)
			+
			(Variable_Target.Location.EnemyForce {Parameter_Category = GameObjectCategoryType[Vehicle]} > 0)
		)
		*
		(0.5 + (Variable_Enemy.LandedForceUnnormalized {Parameter_Category = GameObjectCategoryType[Vehicle]} /
		(Variable_Enemy.LandedForceUnnormalized + 0.00001)))
		*
		(
			50 * (0 == Variable_Self.TacticalBuiltStructureCount {Parameter_Type = "Empire_Anti_Vehicle_Turret",
																	Parameter_Type = "Rebel_Anti_Vehicle_Turret",
																	Parameter_Type = "Pirate_Anti_Vehicle_Turret",
																	Parameter_Type = "Pentastar_Anti_Vehicle_Turret",
																	Parameter_Type = "Hutt_Grenade_Mortar"})
			+
			5 * (0.7 - Variable_Self.TacticalBuiltStructureCount {Parameter_Type = "Empire_Anti_Vehicle_Turret",
																	Parameter_Type = "Rebel_Anti_Vehicle_Turret",
																	Parameter_Type = "Pirate_Anti_Vehicle_Turret",
																	Parameter_Type = "Pentastar_Anti_Vehicle_Turret",
																	Parameter_Type = "Hutt_Grenade_Mortar"} / Function_Build_Pad_Count.Evaluate)
			+
			2 * (200 > Variable_Target.DistanceToNearestFriendly {Parameter_Category = GameObjectCategoryType[Structure]})
			+
			5 * Variable_Target.Location.IsInsideFriendlyShield
		)
	</Need_AntiVehicle_Turret>


	<Need_AntiAir_Turret>
		Variable_Target.Type.IsType {Parameter_Type = "Skirmish_Build_Pad"
										,Parameter_Type = "Rebel_Build_Pad" 
										,Parameter_Type = "Empire_Build_Pad"
										,Parameter_Type = "Pentastar_Build_Pad"
										,Parameter_Type = "Underworld_Build_Pad"
										,Parameter_Type = "Rebel_Build_Pad_Offensive"
										,Parameter_Type = "Empire_Build_Pad_Offensive"		
										,Parameter_Type = "Underworld_Build_Pad_Offensive" }
		*
		(1 - Variable_Target.HasBuiltObject)
		*
		Function_Is_Allowed_To_Build.Evaluate
		*
		20
		*
		(1 - Function_Is_Saving_For_Refineries_Land.Evaluate)
		*
		(1 - Function_Skirmish_Upgrade_Tech.Evaluate)
		*
		(0.25 * Variable_Self.IsDefender + (Variable_Enemy.LandedForceUnnormalized {Parameter_Category = GameObjectCategoryType[Air]} /
		(Variable_Enemy.LandedForceUnnormalized + 0.00001)))
		*
		(
			10 * (0 == Variable_Self.TacticalBuiltStructureCount {Parameter_Type = "Empire_Anti_Aircraft_Turret",
																	Parameter_Type = "Rebel_Anti_Aircraft_Turret",
																	Parameter_Type = "Pentastar_Anti_Aircraft_Turret",
																	Parameter_Type = "Hutt_Anti_Aircraft_Turret"})
			+
			5 * (0.3 - Variable_Self.TacticalBuiltStructureCount {Parameter_Type = "Empire_Anti_Aircraft_Turret",
																	Parameter_Type = "Rebel_Anti_Aircraft_Turret",
																	Parameter_Type = "Pentastar_Anti_Aircraft_Turret",
																	Parameter_Type = "Hutt_Anti_Aircraft_Turret"} / Function_Build_Pad_Count.Evaluate)
			+
			2 * (200 > Variable_Target.DistanceToNearestFriendly {Parameter_Category = GameObjectCategoryType[Structure]})
			+
			5 * Variable_Target.IsInsideFriendlyShield
		)
	</Need_AntiAir_Turret>


	<Need_AntiInfantry_Turret>
		Variable_Target.Type.IsType {Parameter_Type = "SKIRMISH_BUILD_PAD"
												,Parameter_Type = "REBEL_BUILD_PAD"
												,Parameter_Type = "EMPIRE_BUILD_PAD"
												,Parameter_Type = "Pentastar_BUILD_PAD"
												,Parameter_Type = "Rebel_Build_Pad_Offensive"
												,Parameter_Type = "Empire_Build_Pad_Offensive"		}
		*
		(1 - Variable_Target.HasBuiltObject)
		*
		Function_Is_Allowed_To_Build.Evaluate
		*
		10
		*
		(
			(1 - Function_Is_Saving_For_Refineries_Land.Evaluate)
			+
			(Function_Is_Saving_For_Refineries_Land.Evaluate)
			* 
			(300 > Variable_Target.DistanceToNearestEnemy {Parameter_Type = "Skirmish_Mineral_Processor_Pad"
																			,Parameter_Type = "N_Ground_Mining_Facility_Build_Pad"
																			,Parameter_Type = "Empire_Ground_Mining_Facility_Build_Pad"
																			,Parameter_Type = "Rebel_Ground_Mining_Facility_Build_Pad"
																			,Parameter_Type = "Pentastar_Ground_Mining_Facility_Build_Pad"
																			,Parameter_Type = "Skirmish_Outpost_Pad"})
		)
		*
		(
			(1 - Function_Skirmish_Upgrade_Tech.Evaluate)
			+
			(Variable_Target.Location.EnemyForce {Parameter_Category = GameObjectCategoryType[Infantry]} > 0)
		)
		*
		(0.5 + (Variable_Enemy.LandedForceUnnormalized {Parameter_Category = GameObjectCategoryType[Infantry]} /
		(Variable_Enemy.LandedForceUnnormalized + 0.00001)))
		*
		(
			10 * (0 == Variable_Self.TacticalBuiltStructureCount {Parameter_Type = "Empire_Anti_Infantry_Turret",
																					Parameter_Type = "Rebel_Anti_Infantry_Turret",
																					Parameter_Type = "Pirate_Anti_Infantry_Turret",
																					Parameter_Type = "Pentastar_Anti_Infantry_Turret",
																					Parameter_Type = "Hutt_Rapid_Fire_Laser_Turret"})
			+
			5 * (0.7 - Variable_Self.TacticalBuiltStructureCount {Parameter_Type = "Empire_Anti_Infantry_Turret",
																					Parameter_Type = "Rebel_Anti_Infantry_Turret",
																					Parameter_Type = "Pirate_Anti_Infantry_Turret",
																					Parameter_Type = "Pentastar_Anti_Infantry_Turret",
	
																					Parameter_Type = "Hutt_Rapid_Fire_Laser_Turret"}
																					/ Function_Build_Pad_Count.Evaluate)
			+
			2 * (200 > Variable_Target.DistanceToNearestFriendly {Parameter_Category = GameObjectCategoryType[Structure]})
			+
			5 * Variable_Target.IsInsideFriendlyShield
		)
	</Need_AntiInfantry_Turret>


	<Need_Bacta_Tank>
		Variable_Target.Type.IsType {Parameter_Type = "Skirmish_Build_Pad"
												,Parameter_Type = "Rebel_Build_Pad" 
												,Parameter_Type = "Empire_Build_Pad"
												,Parameter_Type = "Underworld_Build_Pad"
												,Parameter_Type = "Pentastar_Build_Pad"
												,Parameter_Type = "Rebel_Build_Pad_Defensive"
												,Parameter_Type = "Empire_Build_Pad_Defensive"		
												,Parameter_Type = "Underworld_Build_Pad_Defensive" }
		*
		(1 - Variable_Target.HasBuiltObject)
		*
		Function_Is_Allowed_To_Build.Evaluate
		*
		(1 - Function_Is_Saving_For_Refineries_Land.Evaluate)
		*
		(1 - Function_Skirmish_Upgrade_Tech.Evaluate)
		*
		(Game.Age > 60)
		*
		Variable_Self.FriendlyForce {Parameter_Category = GameObjectCategoryType[Infantry]}
		*
		(
			10 * (0 == Variable_Self.TacticalBuiltStructureCount {Parameter_Type = "Empire_Buildable_Bacta_Tank",
																	Parameter_Type = "Rebel_Buildable_Bacta_Tank",
																	Parameter_Type = "Pirate_Buildable_Bacta_Tank",
																	Parameter_Type = "Pentastar_Buildable_Bacta_Tank",
																	Parameter_Type = "Underworld_Buildable_Bacta_Tank",
																	Parameter_Type = "Hutt_Buildable_Bacta_Tank"})
			+
			5 * (0.1 - Variable_Self.TacticalBuiltStructureCount {Parameter_Type = "Empire_Buildable_Bacta_Tank",
																					Parameter_Type = "Rebel_Buildable_Bacta_Tank",
																					Parameter_Type = "Pirate_Buildable_Bacta_Tank",
																					Parameter_Type = "Pentastar_Buildable_Bacta_Tank",
																					Parameter_Type = "Underworld_Buildable_Bacta_Tank",
																					Parameter_Type = "Hutt_Buildable_Bacta_Tank"} / Function_Build_Pad_Count.Evaluate)
			-
			2 * (800 > Variable_Target.DistanceToNearestFriendly {	Parameter_Type = "Empire_Buildable_Bacta_Tank",
																					Parameter_Type = "Rebel_Buildable_Bacta_Tank",
																					Parameter_Type = "Pirate_Buildable_Bacta_Tank",
																					Parameter_Type = "Pentastar_Buildable_Bacta_Tank",
																					Parameter_Type = "Underworld_Buildable_Bacta_Tank",
																					Parameter_Type = "Hutt_Buildable_Bacta_Tank"})
			+
			5 * Variable_Target.IsInsideFriendlyShield
		)
	</Need_Bacta_Tank>


	<Need_Repair_Bay>
		Variable_Target.Type.IsType {Parameter_Type = "Skirmish_Build_Pad"
												,Parameter_Type = "Rebel_Build_Pad" 
												,Parameter_Type = "Empire_Build_Pad"
												,Parameter_Type = "Pentastar_Build_Pad"
												,Parameter_Type = "Underworld_Build_Pad"
												,Parameter_Type = "Rebel_Build_Pad_Defensive"
												,Parameter_Type = "Empire_Build_Pad_Defensive"		
												,Parameter_Type = "Underworld_Build_Pad_Defensive" }
		*
		(1 - Variable_Target.HasBuiltObject)
		*
		Function_Is_Allowed_To_Build.Evaluate
		*
		(1 - Function_Is_Saving_For_Refineries_Land.Evaluate)
		*
		(1 - Function_Skirmish_Upgrade_Tech.Evaluate)
		*
		(Game.Age > 60)
		*
		Variable_Self.FriendlyForce {Parameter_Category = GameObjectCategoryType[Vehicle]}
		*
		(
			10 * (0 == Variable_Self.TacticalBuiltStructureCount {Parameter_Type = "Empire_Buildable_Repair_Facility",
																	Parameter_Type = "Rebel_Buildable_Repair_Facility",
																	Parameter_Type = "Pirate_Buildable_Repair_Facility",
																	Parameter_Type = "Pentastar_Buildable_Repair_Facility",
																	Parameter_Type = "Underworld_Buildable_Repair_Facility",
																	Parameter_Type = "Hutt_Buildable_Repair_Facility"})
			+
			5 * (0.1 - Variable_Self.TacticalBuiltStructureCount {Parameter_Type = "Empire_Buildable_Repair_Facility",
																	Parameter_Type = "Rebel_Buildable_Repair_Facility",
																	Parameter_Type = "Pirate_Buildable_Repair_Facility",
																	Parameter_Type = "Pentastar_Buildable_Repair_Facility",
																	Parameter_Type = "Underworld_Buildable_Repair_Facility",
																	Parameter_Type = "Hutt_Buildable_Repair_Facility"} / Function_Build_Pad_Count.Evaluate)
			-
			2 * (800 > Variable_Target.DistanceToNearestFriendly { 	Parameter_Type = "Empire_Buildable_Repair_Facility",
																	Parameter_Type = "Rebel_Buildable_Repair_Facility",
																	Parameter_Type = "Pirate_Buildable_Repair_Facility",
																	Parameter_Type = "Pentastar_Buildable_Repair_Facility",
																	Parameter_Type = "Underworld_Buildable_Repair_Facility",
																	Parameter_Type = "Hutt_Buildable_Repair_Facility"})
			+
			5 * Variable_Target.IsInsideFriendlyShield
		)
	</Need_Repair_Bay>

	
	<Is_Allowed_To_Build>
		Game.IsCampaignGame
		*
		(
			Variable_Self.IsDefender
			+
			Variable_Target.IsInsideFriendlyShield
			+
			(1 - Variable_Self.IsDefender)
			*
			(
				(Variable_Target.Location.EnemyForce > 0)
				+
				(500 > Variable_Target.DistanceToNearestFriendly {Parameter_Category = GameObjectPropertiesType[IsRushTarget]})
			)
		)
		+
		Function_Is_Initial_Skirmish_State_Established.Evaluate
		*
		(1.0 - Function_May_Lose_Land_Control_Game.Evaluate)
	</Is_Allowed_To_Build>

	
	<Need_For_Tactical_Funding>
		Game.IsCampaignGame
		*
		(
			Variable_Self.IsDefender
			+
			(
				(Variable_Self.OpenBuildPadCount > Variable_Self.TacticalBuiltStructureCount)
				*
				(
					(Variable_Enemy.LandedForceUnnormalized > (Variable_Self.FriendlyForceUnnormalized / 2))
					+
					(Variable_Enemy.FriendlyForceUnnormalized {Parameter_Category = GameObjectCategoryType[Air]} > 0)
				)
			)
		)
	</Need_For_Tactical_Funding>


	<Build_Pad_Count>
		Variable_Self.TacticalBuiltStructureCount + Variable_Self.OpenBuildPadCount
	</Build_Pad_Count>

	
	<Want_More_Resource_Structures_Land>
		(1 - Variable_Self.IsDifficulty{Parameter_Difficulty_Level_Type = DifficultyLevelType[Easy]})
		+
		(Variable_Self.IsDifficulty{Parameter_Difficulty_Level_Type = DifficultyLevelType[Easy]})
		*
		(2 > Function_Number_Resource_Structures_Land.Evaluate)
	</Want_More_Resource_Structures_Land>

	
	<Need_To_Secure_Contestable_Land>
		(1 - Function_Should_Firesale_Land.Evaluate)
		*
		(1 - Function_Is_Build_Pad.Evaluate)
		*
		(1 - Variable_Target.Type.IsType {Parameter_Type = "Bunker_Pad"})
		*
		(
			(Game.IsCampaignGame == 0)
			*
			(
				(Function_Want_More_Resource_Structures_Land.Evaluate)
				* 
				(1.0 + 3.0 * (Function_Num_Refineries.Evaluate == 0.0))
				*
				(
					1.5 * Function_Is_Refinery_Pad.Evaluate
					+
					2.0 * Function_Is_Outpost_Pad.Evaluate
					-
					1.5 * Variable_Target.HasBuiltObject
				)
				+
				Function_Is_Initial_Skirmish_State_Established.Evaluate 
				*
				(0.5 - Variable_Target.Location.EnemyForce)							
			)
			+
			(Game.IsCampaignGame == 1)	
			*
			(
				Function_Is_Allowed_To_Build.Evaluate
				*
				Function_Need_For_Tactical_Funding.Evaluate
				+
				10 * Script_TargetHasProperty.Evaluate{Parameter_Script_String = "IsRushTarget"}
				* (Variable_Self.ReinforcementsUnnormalized > 0) * (1 - Variable_Self.UnitSpaceAvailable)
			)
		)
		*
		Variable_Target.IsContestable
		*
		( 
			5 * (Variable_Target.Location.EnemyForce == 0) * (1 - Variable_Target.Type.IsType {Parameter_Type = "Garrison_Bunker_Capturable"})
			+
			5 * clamp( (500 / (Variable_Target.DistanceToNearestFriendly + 1)), 0, 1)
			+
			20.0 * (1 - Variable_Self.IsDefender) * Variable_Target.Type.IsType {Parameter_Type = "Victory_Point"}
			+
			0.1
		)		
		*
		(1.0 - Function_May_Lose_Land_Control_Game.Evaluate)
	</Need_To_Secure_Contestable_Land>

	
	<Need_To_Secure_Build_Pad_Land>
		(1 - Function_Should_Firesale_Land.Evaluate)
		*
		Function_Is_Build_Pad.Evaluate
		*
		(
			(Game.IsCampaignGame == 0)
			*
			(
				Function_Is_Initial_Skirmish_State_Established.Evaluate 
				*
				(0.5 - Variable_Target.Location.EnemyForce)							
			)
			+
			(Game.IsCampaignGame == 1)	
			*
			(
				Function_Is_Allowed_To_Build.Evaluate
				*
				Function_Need_For_Tactical_Funding.Evaluate
			)
		)
		*
		Variable_Target.IsContestable
		*
		( 
			5 * clamp( (500 / (Variable_Target.DistanceToNearestFriendly + 1)), 0, 1)
			+
			5
		)		
		*
		(1.0 - Function_May_Lose_Land_Control_Game.Evaluate)
	</Need_To_Secure_Build_Pad_Land>

	
	<Number_Resource_Structures_Land>
		Variable_Self.TacticalBuiltStructureCount{Parameter_Type = "Empire_Mineral_Processor"
													,Parameter_Type = "Rebel_Mineral_Processor"
													,Parameter_Type = "Pentastar_Mineral_Processor"
													,Parameter_Type = "Underworld_Mineral_Processor"
													,Parameter_Type = "Skirmish_Ground_Mining_Facility_E"
													,Parameter_Type = "Skirmish_Ground_Mining_Facility_R"
													,Parameter_Type = "Skirmish_Ground_Mining_Facility_U"}
	</Number_Resource_Structures_Land>


	<Need_To_Sell>
		(	
			(
				(Variable_Self.OpenBuildPadCount == 0)
				+
				(2000 > Variable_Self.CreditsUnnormalized)
			)
			> 0
		)
		*
		(
			(
				(Function_Need_Repair_Bay.Evaluate > 20)
				+
				(Function_Need_Bacta_Tank.Evaluate > 20)
				+
				(Function_Need_AntiInfantry_Turret.Evaluate > 10)
				+
				(Function_Need_AntiVehicle_Turret.Evaluate > 20)
				+
				(Function_Need_AntiAir_Turret.Evaluate > 20)
			)
			> 0
		)
	</Need_To_Sell>


	<Need_To_Sell_Tactical_Structure>
		Function_Need_To_Sell.Evaluate
		*
		(
			Variable_Target.HasBuiltObject {Parameter_Type = "Empire_Anti_Vehicle_Turret", 
											Parameter_Type = "Rebel_Anti_Vehicle_Turret",
											Parameter_Type = "Pentastar_Anti_Vehicle_Turret",
											Parameter_Type = "Pirate_Anti_Vehicle_Turret"}
			*
			(5 > Function_Need_AntiVehicle_Turret.Evaluate)
			+
			Variable_Target.HasBuiltObject {Parameter_Type = "Empire_Anti_Infantry_Turret",
											Parameter_Type = "Rebel_Anti_Infantry_Turret",
											Parameter_Type = "Pentastar_Anti_Infantry_Turret",
											Parameter_Type = "Pirate_Anti_Infantry_Turret"}
			*
			(5 > Function_Need_AntiInfantry_Turret.Evaluate)
			+
			Variable_Target.HasBuiltObject {Parameter_Type = "Empire_Anti_Aircraft_Turret",
											Parameter_Type = "Rebel_Anti_Aircraft_Turret",
											Parameter_Type = "Pentastar_Anti_Aircraft_Turret"}
			*
			(5 > Function_Need_AntiAir_Turret.Evaluate)
			+
			Variable_Target.HasBuiltObject {Parameter_Type = "Empire_Buildable_Bacta_Tank",
											Parameter_Type = "Rebel_Buildable_Bacta_Tank",
											Parameter_Type = "Pentastar_Buildable_Bacta_Tank",
											Parameter_Type = "Pirate_Buildable_Bacta_Tank",
											Parameter_Type = "Underworld_Buildable_Bacta_Tank"}
			*
			(5 > Function_Need_Bacta_Tank.Evaluate)
			+
			Variable_Target.HasBuiltObject {Parameter_Type = "Empire_Buildable_Repair_Facility",
											Parameter_Type = "Rebel_Buildable_Repair_Facility",
											Parameter_Type = "Pentastar_Buildable_Repair_Facility",
											Parameter_Type = "Pirate_Buildable_Repair_Facility",
											Parameter_Type = "Underworld_Buildable_Repair_Facility"}
			*
			(5 > Function_Need_Repair_Bay.Evaluate)
		)
	</Need_To_Sell_Tactical_Structure>


	<Need_To_Defend_Structure>
		(20 * Variable_Target.HasTakenDamage {Parameter_Time = 5}
		+
		10 * (Variable_Target.Location.EnemyForce))
		*
		(1.0 - Function_May_Lose_Land_Control_Game.Evaluate)
	</Need_To_Defend_Structure>
 

	<Should_Purchase_Ability_Generic>
		(Game.Age > 120)
		*
		(Variable_Self.FriendlyForce > (0.33 * Variable_Self.EnemyForce))
		*
		(
			(Game.IsCampaignGame == 0)
			*
			(6 > Variable_Self.UnitSpaceAvailable)
			*
			(
				1.0
				+
				10.0 * (Variable_Self.FriendlyForceUnnormalized{Parameter_Attenuator = 1.0} >= (0.8 * Variable_Enemy.ForceUnnormalized{Parameter_Attenuator = 1.0}))
				+
				(5.0 * (0#1>0.5))
			)
			+
			(Game.IsCampaignGame)
		)
		*
		(1.0 - Function_May_Lose_Land_Control_Game.Evaluate)
	</Should_Purchase_Ability_Generic>

	
	<Current_Enemy_Location>
		Variable_Target.EnemyUnitConcentration
	</Current_Enemy_Location>

	
	<Current_Friendly_Location>
		Variable_Target.FriendlyUnitConcentration
	</Current_Friendly_Location>


	<Should_Burn_Units_Land>
		(
			Function_Want_To_Retreat_From_Land.Evaluate
			*
			(1 - Function_Allowed_To_Retreat_From_Land.Evaluate)
			*
			(
				(Game.IsCampaignGame == 1)
				+
				(Game.IsCampaignGame == 0)
				*
				(Game.Age > 400)
				*
				(1 - Function_Is_Saving_For_Refineries_Land.Evaluate)
			)
		)
		+
		(Game.IsCampaignGame == 0)
		*
		(1 > Variable_Self.UnitSpaceAvailable)
		*
		(
			(	
				(Variable_Self.ReinforcementsUnnormalized > (Variable_Self.FriendlyForceUnnormalized{Parameter_Category = GameObjectCategoryType[Infantry|Vehicle|Air]} * 0.25))
				+
				(Variable_Self.ReinforcementsUnnormalized > Variable_Self.EnemyForceUnnormalized{Parameter_Category = GameObjectCategoryType[Infantry|Vehicle|Air]})
			) 
			> 0
		)
	</Should_Burn_Units_Land>


	<Should_Firesale_Land>
			Function_Want_To_Retreat_From_Land.Evaluate
			*
			(1 - Function_Allowed_To_Retreat_From_Land.Evaluate)
			*
			(
				(Game.IsCampaignGame == 1)
				*
				(Variable_Self.HasUnit {Parameter_Type = "Remnant_Capital", 
										Parameter_Type = "NewRep_Senate",
										Parameter_Type = "PA_Capital",
										Parameter_Type = "Maldrood_Capital",
										Parameter_Type = "Eriadu_Capital",
										Parameter_Type = "CSA_Capital",
										Parameter_Type = "U_Ground_Palace"} == 0.0)
				+
				(Game.IsCampaignGame == 0)
				*
				(Game.Age > 300)
				*
				(1 - Function_Is_Saving_For_Refineries_Land.Evaluate)
				*
				(Function_Num_Refineries.Evaluate == 0)
				*
				(2000 > Variable_Self.CreditsUnnormalized)
			)
	</Should_Firesale_Land>


	<Need_To_Steal_Vehicle>
		500 
		* 
		(
			Variable_Target.Force{Parameter_Attenuator = 1.0, Parameter_Category = GameObjectCategoryType[Vehicle]}
			-
			Variable_Target.Force{Parameter_Category = GameObjectCategoryType[LandHero]}
		)
	</Need_To_Steal_Vehicle>


	<Is_Build_Pad>
		Variable_Target.IsBuildPad
	</Is_Build_Pad>


	<Non_Structure_Force_Unnormalized>
		Variable_Self.FriendlyForceUnnormalized - Variable_Self.FriendlyForceUnnormalized {Parameter_Category = GameObjectCategoryType[Structure]}
	</Non_Structure_Force_Unnormalized>

	<Is_Defender>
		Variable_Self.IsDefender
	</Is_Defender>
	
	<Should_Hold_Position>
		20.0
		*
		Game.IsLandControlGame
		+
		5.0
		*
		Game.IsCampaignGame
		*
		Variable_Self.IsDefender
		*
		Variable_Target.AdditionalPopulationCapacity
		+
		20.0
		*
		Game.IsCampaignGame
		*
		Variable_Self.IsDefender
		*
		Variable_Target.Type.IsType {Parameter_Type = "Victory_Point"}
		+
		10.0
		*
		(Game.IsCampaignGame == 0.0)
		*
		(Variable_Target.AdditionalPopulationCapacity > Variable_Self.UnitSpaceAvailable)
		*
		Function_Is_Initial_Skirmish_State_Established.Evaluate
		*
		(Function_Num_Refineries.Evaluate > 1)
	</Should_Hold_Position>

	
	<Should_Garrison_Bunker>
		20.0
		*
		(1000 > Script_GetDistanceToFirstWithProperty.Evaluate {Parameter_Script_String = "InBase", Parameter_Script_String = "FRIENDLY"})
		*
		(Variable_Target.GarrisonSlotsAvailable > 0)
		*
		(Variable_Self.IsDefender
			+ 
			((Game.IsCampaignGame == 0)
			* 
			Function_Is_Initial_Skirmish_State_Established.Evaluate
			*
			(Function_May_Lose_Land_Control_Game.Evaluate == 0.0)))
		*
		(Variable_Target.Type.IsType {Parameter_Type = "Garrison_Bunker_Capturable"}
		+
		Variable_Target.Type.IsType {Parameter_Type = "Garrison_Bunker_Rebel" } *
		Variable_Self.IsFaction {Parameter_Faction = "REBEL"}
		+
		Variable_Target.Type.IsType {Parameter_Type = "Garrison_Bunker_Empire" } *
		Variable_Self.IsFaction {Parameter_Faction = "EMPIRE"}
		+
		Variable_Target.Type.IsType {Parameter_Type = "Garrison_Bunker_Underworld" } *
		Variable_Self.IsFaction {Parameter_Faction = "UNDERWORLD"}
		+
		Variable_Target.Type.IsType {Parameter_Type = "Garrison_Bunker_Pentastar" } *
		(Variable_Self.IsFaction {Parameter_Faction = "Pirates"}
		+
		Variable_Self.IsFaction {Parameter_Faction = "Hutts"}
		+
		Variable_Self.IsFaction {Parameter_Faction = "Pentastar"}
		+
		Variable_Self.IsFaction {Parameter_Faction = "Teradoc"}))
	</Should_Garrison_Bunker>

	
	<Should_Fire_Orbital_Bombardment>
		100.0
		*
		Variable_Self.IsOrbitalBombardmentAvailable
		*
		(
			Variable_Target.Location.EnemyUnitConcentration
			+
			(	
				Function_Should_Destroy_Structure.Evaluate 
				- 
				(50.0 * Variable_Target.Type.IsType {Parameter_Type = "Empire_Anti_Infantry_Turret",
									Parameter_Type = "Rebel_Anti_Infantry_Turret",
									Parameter_Type = "Pirate_Anti_Infantry_Turret",
									Parameter_Type = "Pentastar_Anti_Infantry_Turret",
									Parameter_Type = "Empire_Anti_Aircraft_Turret",
									Parameter_Type = "Rebel_Anti_Aircraft_Turret",
									Parameter_Type = "Pirate_Anti_Aircraft_Turret",
									Parameter_Type = "Pentastar_Anti_Aircraft_Turret",
									Parameter_Type = "Empire_Anti_Vehicle_Turret",
									Parameter_Type = "Rebel_Anti_Vehicle_Turret",
									Parameter_Type = "Pirate_Anti_Vehicle_Turret",
									Parameter_Type = "Pentastar_Anti_Vehicle_Turret",
									Parameter_Type = "Empire_Buildable_Bacta_Tank",
									Parameter_Type = "Rebel_Buildable_Bacta_Tank",
									Parameter_Type = "Pirate_Buildable_Bacta_Tank",
									Parameter_Type = "Pentastar_Buildable_Bacta_Tank",
									Parameter_Type = "Underworld_Buildable_Bacta_Tank",
									Parameter_Type = "Empire_Buildable_Repair_Facility",
									Parameter_Type = "Rebel_Buildable_Repair_Facility",
									Parameter_Type = "Pirate_Buildable_Repair_Facility",
									Parameter_Type = "Pentastar_Buildable_Repair_Facility",
									Parameter_Type = "Underworld_Buildable_Repair_Facility"})
			)
		)
	</Should_Fire_Orbital_Bombardment>

	
	<Should_Deploy_Troop_Transports>
		50.0
		*
		((1.0 - Game.Age / 180.0) + (Game.IsCampaignGame == 0.0))
		*
		(3 > Variable_Self.UnitSpaceAvailable)
		*
		(Variable_Target.FriendlyForceUnnormalized {Parameter_Category = GameObjectCategoryType[Infantry]} / 300)
	</Should_Deploy_Troop_Transports>

	
	<Should_Garrison_Transport>
		50.0
		*
		((1.0 - Game.Age / 250.0) + (Game.IsCampaignGame == 0.0))
		*
		((Variable_Self.IsDefender == 0.0) + (Game.IsCampaignGame == 0))
		*
		Variable_Target.Type.IsType {Parameter_Type = "HAV_Juggernaut", 
										Parameter_Type = "Gallofree_HTT_Transport",
										Parameter_Type = "Aratech_Battle_Platform",
										Parameter_Type = "Heavy_Tracker",
										Parameter_Type = "Floating_Fortress",
										Parameter_Type = "LAAT",
										Parameter_Type = "IDT"}
	</Should_Garrison_Transport>

	
	<Tactical_Multiplayer_Should_Build_Generic>
		(Game.IsCampaignGame == 0)
		*
		(
			1.0
			+
			15.0 * (Variable_Enemy.Force >= (0.8 * Variable_Self.Force))
			+
			5.0
		)	
	</Tactical_Multiplayer_Should_Build_Generic>

	
	<Is_Outpost_Pad>
		Variable_Target.Type.IsType {Parameter_Type = "Skirmish_Outpost_Pad"}
	</Is_Outpost_Pad>

	
	<Tactical_Multiplayer_Should_Build_Units_Generic_Land>
		(1 - Function_Is_Saving_For_Refineries_Land.Evaluate)
		*
		(1 - Function_Skirmish_Upgrade_Tech.Evaluate)
		*
		Function_Is_Initial_Skirmish_State_Established.Evaluate
		*
		Function_Tactical_Multiplayer_Should_Build_Generic.Evaluate
		*
		(1.0 - Function_May_Lose_Land_Control_Game.Evaluate)		
	</Tactical_Multiplayer_Should_Build_Units_Generic_Land>


	<Tactical_Multiplayer_Should_Build_Structure_Generic_Land>
		(1 - Function_Want_To_Retreat_From_Land.Evaluate)
		*
		(1 - Function_Is_Refinery_Pad.Evaluate)
		*
		(1 - Function_Is_Outpost_Pad.Evaluate)
		*
		(1 - Variable_Target.Type.IsType {Parameter_Type = "Skirmish_Build_Pad"
											,Parameter_Type = "Rebel_Build_Pad" 
											,Parameter_Type = "Empire_Build_Pad"
											,Parameter_Type = "Underworld_Build_Pad"
											,Parameter_Type = "Rebel_Build_Pad_Offensive"
											,Parameter_Type = "Empire_Build_Pad_Offensive"
											,Parameter_Type = "Underworld_Build_Pad_Offensive"
											,Parameter_Type = "Rebel_Build_Pad_Defensive"
											,Parameter_Type = "Empire_Build_Pad_Defensive"	
											,Parameter_Type = "Underworld_Build_Pad_Defensive" })
		*
		(1 - Variable_Target.HasBuiltObject)
		*
		(
			1
			+
			20
			* 
			(Function_Num_Refineries.Evaluate > 0)
			*
			(Variable_Target.Type.IsType {Parameter_Type = "Power_Generator_R_Build_Pad"
												,Parameter_Type = "Power_Generator_E_Build_Pad"})
			+
			(1.0 - Function_Skirmish_Upgrade_Tech.Evaluate)
			*
			(30 * (Variable_Target.Location.EnemyForce == 0.0))
			-
			10 * (Variable_Target.Type.IsType {Parameter_Type = "Communications_Array_R_Build_Pad"
												,Parameter_Type = "Communications_Array_E_Build_Pad"
												,Parameter_Type = "E_Ground_Research_Facility_Build_Pad"
												,Parameter_Type = "R_Ground_Research_Facility_Build_Pad"})
		)
		*
		(1.0 - Function_May_Lose_Land_Control_Game.Evaluate)	
	</Tactical_Multiplayer_Should_Build_Structure_Generic_Land>

	
	<Tactical_Multiplayer_Should_Build_Basic_Structure>
		Function_Tactical_Multiplayer_Should_Build_Structure_Generic_Land.Evaluate
		*
		(1 - Function_Is_Saving_For_Refineries_Land.Evaluate)
		*
		(1 - Variable_Target.Type.IsType {Parameter_Type = "E_Ground_Barracks_Build_Pad",
											Parameter_Type = "R_Ground_Barracks_Build_Pad",
											Parameter_Type = "U_Ground_Merc_Outpost_Build_Pad",
											Parameter_Type = "Imperial_Command_Center_Build_Pad",
											Parameter_Type = "Rebel_Command_Center_Build_Pad",
											Parameter_Type = "Underworld_Palace_Build_Pad"})
		*
		Function_Is_Initial_Skirmish_State_Established.Evaluate						
	</Tactical_Multiplayer_Should_Build_Basic_Structure>
	
	
	<Tactical_Multiplayer_Should_Build_Barracks>
		Function_Tactical_Multiplayer_Should_Build_Structure_Generic_Land.Evaluate
		*
		Variable_Target.Type.IsType {Parameter_Type = "E_Ground_Barracks_Build_Pad",
										Parameter_Type = "R_Ground_Barracks_Build_Pad",
										Parameter_Type = "U_Ground_Merc_Outpost_Build_Pad"}
		*
		25.0
		*
		(1 + (Variable_Self.FriendlyForceUnnormalized {Parameter_Category = GameObjectCategoryType[Infantry | Hero]} == 0.0))
	</Tactical_Multiplayer_Should_Build_Barracks>
	
	
	<Tactical_Multiplayer_Should_Build_Command_Center>
		50.0
		*
		Function_Tactical_Multiplayer_Should_Build_Structure_Generic_Land.Evaluate
		*
		Variable_Target.Type.IsType {Parameter_Type = "Imperial_Command_Center_Build_Pad",
										Parameter_Type = "Rebel_Command_Center_Build_Pad",
										Parameter_Type = "Underworld_Palace_Build_Pad"}
	</Tactical_Multiplayer_Should_Build_Command_Center>

	
	<Should_Purchase_Ability_Generic_Land>
		(1 - Function_Is_Saving_For_Refineries_Land.Evaluate)
		*
		(1 - Function_Skirmish_Upgrade_Tech.Evaluate)
		*
		Function_Should_Purchase_Ability_Generic.Evaluate
		*
		(Function_Num_Refineries.Evaluate > 0)
		*
		(3 > Variable_Self.UnitSpaceAvailable)
	</Should_Purchase_Ability_Generic_Land>

	
	<Is_Saving_For_Refineries_Land>
		(Function_Num_Open_Land_Econ_Structure_Build_Locations.Evaluate > 0)
		*
		(4 > Variable_Self.TacticalBuiltStructureCount{Parameter_Type = "Rebel_Mineral_Processor"
														,Parameter_Type = "Empire_Mineral_Processor"
														,Parameter_Type = "Underworld_Mineral_Processor"
														,Parameter_Type = "Skirmish_Ground_Mining_Facility_E"
														,Parameter_Type = "Skirmish_Ground_Mining_Facility_R"
														,Parameter_Type = "Skirmish_Ground_Mining_Facility_U"})
		*
		(1500 > Variable_Self.CreditsUnnormalized)
		*
		Function_Want_More_Resource_Structures_Land.Evaluate
	</Is_Saving_For_Refineries_Land>


	<Num_Refineries>
		Variable_Self.TacticalBuiltStructureCount{Parameter_Type = "Rebel_Mineral_Processor"
													,Parameter_Type = "Empire_Mineral_Processor"
													,Parameter_Type = "Underworld_Mineral_Processor"
													,Parameter_Type = "Skirmish_Ground_Mining_Facility_E"
													,Parameter_Type = "Skirmish_Ground_Mining_Facility_R"
													,Parameter_Type = "Skirmish_Ground_Mining_Facility_U"}
	</Num_Refineries>

	
	<Is_Refinery_Pad>
		(Variable_Target.Type.IsType {Parameter_Type = "Skirmish_Mineral_Processor_Pad"}
		+
		Variable_Target.Type.IsType {Parameter_Type = "N_Ground_Mining_Facility_Build_Pad"}
		+
		Variable_Target.Type.IsType {Parameter_Type = "Empire_Ground_Mining_Facility_Build_Pad"}
		*
		Variable_Self.IsFaction {Parameter_Faction = "EMPIRE"}
		+
		Variable_Target.Type.IsType {Parameter_Type = "Rebel_Ground_Mining_Facility_Build_Pad"}
		*
		Variable_Self.IsFaction {Parameter_Faction = "REBEL"}) > 0
	</Is_Refinery_Pad>

	
	<Need_To_Build_Refinery_Land>
		50.0 
		*
		(Function_Is_Refinery_Pad.Evaluate + Function_Is_Outpost_Pad.Evaluate)
		*
		(
			0.2 >
			(
				Variable_Target.Location.EnemyForce /
				(Variable_Target.Location.EnemyForce + Variable_Target.Location.FriendlyForce )
			)
		)
		*
		(Variable_Target.DistanceToNearestEnemy{Parameter_Category = GameObjectCategoryType[Structure]} > 500)
	</Need_To_Build_Refinery_Land>

	
	<Skirmish_Upgrade_Tech>
		(1 - Function_Is_Skirmish_Tech_Maxed.Evaluate)
		*
		(
			Function_Should_Burn_Units_Land.Evaluate
			+
			(Variable_Self.TacticalBuiltStructureCount {Parameter_Type = "Skirmish_Ground_Mining_Facility_E", 
														Parameter_Type = "Skirmish_Ground_Mining_Facility_R",
														Parameter_Type = "Skirmish_Ground_Mining_Facility_U",
														Parameter_Type = "Empire_Mineral_Processor", 
														Parameter_Type = "Rebel_Mineral_Processor",
														Parameter_Type = "Underworld_Mineral_Processor"} >= 1)	
			*
			(Variable_Self.FriendlyForceUnnormalized > 400) 
			* 
			(
				(Variable_Self.FriendlyForce > (0.65 * Variable_Self.EnemyForce))
				*
				(1 - Variable_Self.HasUnit{Parameter_Type = "RC_Level_Two_Tech_Upgrade", 
											Parameter_Type = "EC_Level_Two_Tech_Upgrade",
											Parameter_Type = "UC_Level_Two_Tech_Upgrade"})
				+
				(Variable_Self.FriendlyForce > 0.75 * Variable_Self.EnemyForce)
				*
				(Variable_Self.FriendlyForceUnnormalized > 3000)
				* 
				(1 - Variable_Self.HasUnit{Parameter_Type = "RC_Level_Three_Tech_Upgrade", 
											Parameter_Type = "EC_Level_Three_Tech_Upgrade",
											Parameter_Type = "UC_Level_Three_Tech_Upgrade"})
			)
		)
		*
		(1.0 - Function_May_Lose_Land_Control_Game.Evaluate)		
		> 0
	</Skirmish_Upgrade_Tech>

	
	<Skirmish_Upgrade_Tech_With_Multiplier>
		50.0 * Function_Skirmish_Upgrade_Tech.Evaluate
	</Skirmish_Upgrade_Tech_With_Multiplier>


	<Is_Skirmish_Tech_Maxed>
		Variable_Self.HasUnit{Parameter_Type = "RC_Level_Three_Tech_Upgrade", 
								Parameter_Type = "EC_Level_Three_Tech_Upgrade",
								Parameter_Type = "UC_Level_Three_Tech_Upgrade"}
	</Is_Skirmish_Tech_Maxed>
	
	
	<May_Lose_Land_Control_Game>
		(Variable_Self.HasUnit {Parameter_Type = "Reinforcement_Point"} == 0)
		*
		Game.IsLandControlGame
	</May_Lose_Land_Control_Game>
	
	
	<Should_Purchase_Early_Land_Upgrades>
		Function_ReallyBig.Evaluate
		*
		Function_Is_Initial_Skirmish_State_Established.Evaluate
		*
		(1.0 - Function_May_Lose_Land_Control_Game.Evaluate)		
	</Should_Purchase_Early_Land_Upgrades>
	
	
	<Is_Initial_Skirmish_State_Established>
		Variable_Self.HasUnit {Parameter_Type = "E_Ground_Barracks", 
								Parameter_Type = "R_Ground_Barracks", 
								Parameter_Type = "U_Ground_Barracks"}
		*
		Variable_Self.HasUnit {Parameter_Type = "Imperial_Command_Center", 
								Parameter_Type = "Rebel_Command_Center",
								Parameter_Type = "U_Ground_Palace"}
		*
		(Function_Num_Refineries.Evaluate > 0)
		*
		(Function_Non_Structure_Force_Unnormalized.Evaluate > 0.0)
		+
		Variable_Self.HasUnit{Parameter_Type = "RC_Level_Two_Tech_Upgrade", 
											Parameter_Type = "EC_Level_Two_Tech_Upgrade",
											Parameter_Type = "UC_Level_Two_Tech_Upgrade",
											Parameter_Type = "RC_Level_Three_Tech_Upgrade", 
											Parameter_Type = "EC_Level_Three_Tech_Upgrade",
											Parameter_Type = "UC_Level_Three_Tech_Upgrade"}	
	</Is_Initial_Skirmish_State_Established>

	
	<Should_Build_Infantry_Emergency>
		100.0
		*
		((200 > Function_Non_Structure_Force_Unnormalized.Evaluate)
		*
		(Function_Is_Initial_Skirmish_State_Established.Evaluate == 0)
		+
		Function_May_Lose_Land_Control_Game.Evaluate)
	</Should_Build_Infantry_Emergency>
	
	
	<Should_Secure_Victory_Control_Point>
		Game.IsLandControlGame
		*
		Variable_Target.Type.IsType {Parameter_Type = "Reinforcement_Point"} 
		*
		(30.0 + 30.0 * Function_May_Lose_Land_Control_Game.Evaluate)
	</Should_Secure_Victory_Control_Point>	

	
	<Num_Open_Land_Econ_Structure_Build_Locations>
		(Variable_Self.OpenBuildPadCount{Parameter_Type = "Skirmish_Mineral_Processor_Pad"
											,Parameter_Type = "N_Ground_Mining_Facility_Build_Pad"
											,Parameter_Type = "Empire_Ground_Mining_Facility_Build_Pad"
											,Parameter_Type = "Rebel_Ground_Mining_Facility_Build_Pad"
											,Parameter_Type = "Skirmish_Outpost_Pad"})
	</Num_Open_Land_Econ_Structure_Build_Locations>

	
	<Should_Build_Bunker>
		Variable_Target.Type.IsType {Parameter_Type = "Bunker_Pad" }
		*
		(1 - Variable_Target.HasBuiltObject)
		*
		Function_Is_Allowed_To_Build.Evaluate
		*
		15
		*
		(Game.Age > 60)		
		*
		(1.0 + Variable_Self.Force {Parameter_Category = GameObjectCategoryType[Infantry]})
		*
		(Variable_Self.FriendlyForceUnnormalized {Parameter_Category = GameObjectCategoryType[Infantry]} > 800.0)
	</Should_Build_Bunker>

	
	<Skirmish_Needs_Magic_Cash_Drop_Land>
		50.0
		*
		Variable_Self.HasUnit {Parameter_Type = "Imperial_Command_Center", 
								Parameter_Type = "Rebel_Command_Center",
								Parameter_Type = "U_Ground_Palace"}
		*
		(3000.0 > Variable_Self.CreditsUnnormalized)
		*
		(Variable_Self.EnemyForceUnnormalized > Variable_Self.FriendlyForceUnnormalized)
		*
		(Game.Age > 180.0)		
		*
		(Game.IsCampaignGame == 0.0)
	</Skirmish_Needs_Magic_Cash_Drop_Land>

	
</Equations>
